#!/usr/bin/env bash
set -o errexit
set -o pipefail
set -o nounset
# Export the json and replace the stuff in the dashboard-key
# Remember to hack the json to set the ID to null otherwise it struggles to import

curl 'http://grafana:3000/api/dashboards/import' \
  -H 'Connection: keep-alive' \
  -H 'accept: application/json, text/plain, */*' \
  -H 'x-grafana-org-id: 1' \
  -H 'content-type: application/json' \
  -H 'Origin: http://grafana:3000' \
  -H 'Sec-Fetch-Site: same-origin' \
  -H 'Sec-Fetch-Mode: cors' \
  -H 'Sec-Fetch-Dest: empty' \
  -H 'Referer: http://grafana:3000/dashboard/import' \
  --data-binary '{"dashboard": {"annotations": {"list": [{"builtIn": 1,"datasource": "-- Grafana --","enable": true,"hide": true,"iconColor": "rgba(0, 211, 255, 1)","name": "Annotations & Alerts","type": "dashboard"}]},"description": "Challenge Intro, focus on rate of 200 OK","editable": true,"gnetId": 4411,"graphTooltip": 2,"id": null,"iteration": 1596097117280,"links": [],"panels": [{"aliasColors": {},"bars": false,"dashLength": 10,"dashes": false,"datasource": "InfluxDB","description": "Should be greater than 0.99n","fieldConfig": {"defaults": {"custom": {}},"overrides": []},"fill": 1,"fillGradient": 0,"gridPos": {"h": 8,"w": 12,"x": 0,"y": 0},"hiddenSeries": false,"id": 72,"interval": "","legend": {"avg": false,"current": true,"hideEmpty": false,"max": true,"min": false,"show": true,"total": false,"values": true},"lines": true,"linewidth": 1,"nullPointMode": "null","options": {"dataLinks": []},"percentage": false,"pointradius": 2,"points": false,"renderer": "flot","seriesOverrides": [],"spaceLength": 10,"stack": false,"steppedLine": false,"targets": [{"groupBy": [{"params": ["1s"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "200 OK rate","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "mean"}]],"tags": []}],"thresholds": [{"colorMode": "ok","fill": true,"line": true,"op": "gt","value": 0.99,"yaxis": "left"},{"colorMode": "critical","fill": true,"line": true,"op": "gt","value": 0,"yaxis": "left"}],"timeFrom": null,"timeRegions": [],"timeShift": null,"title": "Rate of 200 OK","tooltip": {"shared": true,"sort": 0,"value_type": "individual"},"type": "graph","xaxis": {"buckets": null,"mode": "time","name": null,"show": true,"values": []},"yaxes": [{"decimals": null,"format": "short","label": "Rate of 200 OK responses","logBase": 1,"max": "1","min": "0.00","show": true},{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true}],"yaxis": {"align": false,"alignLevel": null}},{"aliasColors": {},"bars": false,"dashLength": 10,"dashes": false,"datasource": null,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"fill": 1,"fillGradient": 0,"gridPos": {"h": 8,"w": 12,"x": 12,"y": 0},"hiddenSeries": false,"id": 74,"legend": {"avg": false,"current": false,"max": false,"min": false,"show": true,"total": false,"values": false},"lines": true,"linewidth": 1,"nullPointMode": "null","options": {"dataLinks": []},"percentage": false,"pointradius": 2,"points": false,"renderer": "flot","seriesOverrides": [],"spaceLength": 10,"stack": false,"steppedLine": false,"targets": [{"groupBy": [{"params": ["1s"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "http_reqs","orderByTime": "ASC","policy": "default","refId": "A","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "count"}]],"tags": [{"key": "name","operator": "=~","value": "/^$URL$/"}]}],"thresholds": [],"timeFrom": null,"timeRegions": [],"timeShift": null,"title": "Request pr second","tooltip": {"shared": true,"sort": 0,"value_type": "individual"},"type": "graph","xaxis": {"buckets": null,"mode": "time","name": null,"show": true,"values": []},"yaxes": [{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true},{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true}],"yaxis": {"align": false,"alignLevel": null}},{"collapsed": false,"datasource": "InfluxDB","gridPos": {"h": 1,"w": 24,"x": 0,"y": 8},"id": 70,"panels": [],"repeat": "Measurement","scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"title": "$Measurement","type": "row"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 0,"y": 9},"height": "50px","id": 11,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "mean"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (mean)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "avg"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 4,"y": 9},"height": "50px","id": 14,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "max"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (max)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "avg"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 8,"y": 9},"height": "50px","id": 15,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "median"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (med)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "avg"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 12,"y": 9},"height": "50px","id": 16,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "min"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (min)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "current"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 16,"y": 9},"height": "50px","id": 12,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": ["90"],"type": "percentile"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (p90)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "avg"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 20,"y": 9},"height": "50px","id": 13,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [95],"type": "percentile"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (p95)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "avg"},{"aliasColors": {},"bars": false,"dashLength": 10,"dashes": false,"datasource": "InfluxDB","description": "Grouped by 1 sec intervals","fieldConfig": {"defaults": {"custom": {}},"overrides": []},"fill": 1,"fillGradient": 0,"gridPos": {"h": 7,"w": 12,"x": 0,"y": 12},"height": "250px","hiddenSeries": false,"id": 5,"interval": ">1s","legend": {"alignAsTable": false,"avg": false,"current": false,"hideZero": false,"max": false,"min": false,"show": true,"total": false,"values": false},"lines": true,"linewidth": 1,"links": [],"nullPointMode": "connected","options": {"dataLinks": []},"percentage": false,"pointradius": 1,"points": true,"renderer": "flot","scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"seriesOverrides": [],"spaceLength": 10,"stack": false,"steppedLine": false,"targets": [{"alias": "max","dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "max"}]],"tags": [{"key": "name","operator": "=~","value": "/^$URL$/"}]},{"alias": "p90","dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "F","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": ["90"],"type": "percentile"}]],"tags": [{"key": "name","operator": "=~","value": "/^$URL$/"}]},{"alias": "p95","dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "G","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [95],"type": "percentile"}]],"tags": [{"key": "name","operator": "=~","value": "/^$URL$/"}]},{"alias": "min","dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "H","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "min"}]],"tags": [{"key": "name","operator": "=~","value": "/^$URL$/"}]}],"thresholds": [],"timeFrom": null,"timeRegions": [],"timeShift": null,"title": "$Measurement (over time)","tooltip": {"shared": true,"sort": 0,"value_type": "individual"},"type": "graph","xaxis": {"buckets": null,"mode": "time","name": null,"show": true,"values": []},"yaxes": [{"decimals": null,"format": "ms","label": "","logBase": 2,"max": null,"min": null,"show": true},{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true}],"yaxis": {"align": false,"alignLevel": null}},{"cards": {"cardPadding": null,"cardRound": null},"color": {"cardColor": "rgb(0, 234, 255)","colorScale": "sqrt","colorScheme": "interpolateRdYlGn","exponent": 0.5,"mode": "spectrum"},"dataFormat": "timeseries","datasource": "InfluxDB","fieldConfig": {"defaults": {"custom": {}},"overrides": []},"gridPos": {"h": 7,"w": 12,"x": 12,"y": 12},"heatmap": {},"height": "250px","hideZeroBuckets": false,"highlightCards": true,"id": 8,"interval": ">1s","legend": {"show": false},"links": [],"reverseYBuckets": false,"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"targets": [{"dsType": "influxdb","groupBy": [],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"title": "$Measurement (over time)","tooltip": {"show": true,"showHistogram": true},"tooltipDecimals": null,"type": "heatmap","xAxis": {"show": true},"xBucketNumber": null,"xBucketSize": null,"yAxis": {"decimals": null,"format": "ms","logBase": 2,"max": null,"min": null,"show": true,"splitFactor": null},"yBucketBound": "auto","yBucketNumber": null,"yBucketSize": null}],"refresh": "5s","schemaVersion": 25,"style": "dark","tags": [],"templating": {"list": [{"current": {"selected": false,"text": "http://localhost:5000/weatherforecast_intro","value": "http://localhost:5000/weatherforecast_intro"},"hide": 2,"label": "URL","name": "URL","options": [{"selected": true,"text": "http://localhost:5000/weatherforecast_intro","value": "http://localhost:5000/weatherforecast_intro"}],"query": "http://localhost:5000/weatherforecast_intro","skipUrlSync": false,"type": "constant"},{"current": {"selected": false,"text": "http_req_duration","value": "http_req_duration"},"hide": 2,"label": null,"name": "Measurement","options": [{"selected": true,"text": "http_req_duration","value": "http_req_duration"}],"query": "http_req_duration","skipUrlSync": false,"type": "constant"}]},"time": {"from": "now-5m","to": "now"},"timepicker": {"refresh_intervals": ["15s"],"time_options": ["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone": "browser","title": "Challenge Intro","uid": "t4kkn0VMk","version": 2},"overwrite":true,"inputs":[],"folderId":0}' \
  --compressed

curl 'http://grafana:3000/api/dashboards/import' \
  -H 'Connection: keep-alive' \
  -H 'accept: application/json, text/plain, */*' \
  -H 'x-grafana-org-id: 1' \
  -H 'content-type: application/json' \
  -H 'Origin: http://grafana:3000' \
  -H 'Sec-Fetch-Site: same-origin' \
  -H 'Sec-Fetch-Mode: cors' \
  -H 'Sec-Fetch-Dest: empty' \
  -H 'Referer: http://grafana:3000/dashboard/import' \
  --data-binary '{"dashboard":{"annotations": {"list": [{"builtIn": 1,"datasource": "-- Grafana --","enable": true,"hide": true,"iconColor": "rgba(0, 211, 255, 1)","name": "Annotations & Alerts","type": "dashboard"}]},"description": "Challenge 0, focus on rate of 200 OK","editable": true,"gnetId": 4411,"graphTooltip": 2,"id": null,"iteration": 1596110852967,"links": [],"panels": [{"aliasColors": {},"bars": false,"dashLength": 10,"dashes": false,"datasource": null,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"fill": 1,"fillGradient": 0,"gridPos": {"h": 8,"w": 12,"x": 0,"y": 0},"hiddenSeries": false,"id": 78,"legend": {"avg": false,"current": false,"max": false,"min": false,"show": true,"total": false,"values": false},"lines": true,"linewidth": 1,"nullPointMode": "null","options": {"dataLinks": []},"percentage": false,"pointradius": 2,"points": false,"renderer": "flot","seriesOverrides": [],"spaceLength": 10,"stack": false,"steppedLine": false,"targets": [{"groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "prometheus","orderByTime": "ASC","policy": "default","refId": "A","resultFormat": "time_series","select": [[{"params": ["polly_retries"],"type": "field"},{"params": [],"type": "mean"}]],"tags": []}],"thresholds": [],"timeFrom": null,"timeRegions": [],"timeShift": null,"title": "Configured retries","tooltip": {"shared": true,"sort": 0,"value_type": "individual"},"type": "graph","xaxis": {"buckets": null,"mode": "time","name": null,"show": true,"values": []},"yaxes": [{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true},{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true}],"yaxis": {"align": false,"alignLevel": null}},{"aliasColors": {},"bars": false,"dashLength": 10,"dashes": false,"datasource": "InfluxDB","fieldConfig": {"defaults": {"custom": {}},"overrides": []},"fill": 1,"fillGradient": 0,"gridPos": {"h": 8,"w": 12,"x": 12,"y": 0},"hiddenSeries": false,"id": 76,"legend": {"avg": false,"current": false,"max": false,"min": false,"show": true,"total": false,"values": false},"lines": true,"linewidth": 1,"nullPointMode": "null","options": {"dataLinks": []},"percentage": false,"pointradius": 2,"points": false,"renderer": "flot","seriesOverrides": [],"spaceLength": 10,"stack": false,"steppedLine": false,"targets": [{"groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "prometheus","orderByTime": "ASC","policy": "default","refId": "A","resultFormat": "time_series","select": [[{"params": ["executed_retries"],"type": "field"},{"params": [],"type": "max"}]],"tags": []}],"thresholds": [],"timeFrom": null,"timeRegions": [],"timeShift": null,"title": "Executed retries","tooltip": {"shared": true,"sort": 0,"value_type": "individual"},"type": "graph","xaxis": {"buckets": null,"mode": "time","name": null,"show": true,"values": []},"yaxes": [{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true},{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true}],"yaxis": {"align": false,"alignLevel": null}},{"aliasColors": {},"bars": false,"dashLength": 10,"dashes": false,"datasource": "InfluxDB","description": "Should be greater than 0.99n","fieldConfig": {"defaults": {"custom": {}},"overrides": []},"fill": 1,"fillGradient": 0,"gridPos": {"h": 8,"w": 12,"x": 0,"y": 8},"hiddenSeries": false,"id": 72,"interval": "","legend": {"avg": false,"current": true,"hideEmpty": false,"max": true,"min": false,"show": true,"total": false,"values": true},"lines": true,"linewidth": 1,"nullPointMode": "null","options": {"dataLinks": []},"percentage": false,"pointradius": 2,"points": false,"renderer": "flot","seriesOverrides": [],"spaceLength": 10,"stack": false,"steppedLine": false,"targets": [{"groupBy": [{"params": ["1s"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "200 OK rate","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "mean"}]],"tags": []}],"thresholds": [{"colorMode": "ok","fill": true,"line": true,"op": "gt","value": 0.99,"yaxis": "left"},{"colorMode": "critical","fill": true,"line": true,"op": "gt","value": 0,"yaxis": "left"}],"timeFrom": null,"timeRegions": [],"timeShift": null,"title": "Rate of 200 OK","tooltip": {"shared": true,"sort": 0,"value_type": "individual"},"type": "graph","xaxis": {"buckets": null,"mode": "time","name": null,"show": true,"values": []},"yaxes": [{"decimals": null,"format": "short","label": "Rate of 200 OK responses","logBase": 1,"max": "1","min": "0.85","show": true},{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true}],"yaxis": {"align": false,"alignLevel": null}},{"aliasColors": {},"bars": false,"dashLength": 10,"dashes": false,"datasource": null,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"fill": 1,"fillGradient": 0,"gridPos": {"h": 8,"w": 12,"x": 12,"y": 8},"hiddenSeries": false,"id": 80,"legend": {"avg": false,"current": false,"max": false,"min": false,"show": true,"total": false,"values": false},"lines": true,"linewidth": 1,"nullPointMode": "null","options": {"dataLinks": []},"percentage": false,"pointradius": 2,"points": false,"renderer": "flot","seriesOverrides": [],"spaceLength": 10,"stack": false,"steppedLine": false,"targets": [{"groupBy": [{"params": ["1s"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "http_reqs","orderByTime": "ASC","policy": "default","refId": "A","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "count"}]],"tags": [{"key": "name","operator": "=~","value": "/^$URL$/"}]}],"thresholds": [],"timeFrom": null,"timeRegions": [],"timeShift": null,"title": "Request pr second","tooltip": {"shared": true,"sort": 0,"value_type": "individual"},"type": "graph","xaxis": {"buckets": null,"mode": "time","name": null,"show": true,"values": []},"yaxes": [{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true},{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true}],"yaxis": {"align": false,"alignLevel": null}},{"collapsed": false,"datasource": "InfluxDB","gridPos": {"h": 1,"w": 24,"x": 0,"y": 16},"id": 70,"panels": [],"repeat": "Measurement","scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"title": "$Measurement","type": "row"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 0,"y": 17},"height": "50px","id": 11,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "mean"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (mean)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "avg"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 4,"y": 17},"height": "50px","id": 14,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "max"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (max)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "avg"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 8,"y": 17},"height": "50px","id": 15,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "median"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (med)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "avg"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 12,"y": 17},"height": "50px","id": 16,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "min"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (min)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "current"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 16,"y": 17},"height": "50px","id": 12,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": ["90"],"type": "percentile"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (p90)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "avg"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 20,"y": 17},"height": "50px","id": 13,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [95],"type": "percentile"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (p95)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "avg"},{"aliasColors": {},"bars": false,"dashLength": 10,"dashes": false,"datasource": "InfluxDB","description": "Grouped by 1 sec intervals","fieldConfig": {"defaults": {"custom": {}},"overrides": []},"fill": 1,"fillGradient": 0,"gridPos": {"h": 7,"w": 12,"x": 0,"y": 20},"height": "250px","hiddenSeries": false,"id": 5,"interval": ">1s","legend": {"alignAsTable": false,"avg": false,"current": false,"hideZero": false,"max": false,"min": false,"show": true,"total": false,"values": false},"lines": true,"linewidth": 1,"links": [],"nullPointMode": "connected","options": {"dataLinks": []},"percentage": false,"pointradius": 1,"points": true,"renderer": "flot","scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"seriesOverrides": [],"spaceLength": 10,"stack": false,"steppedLine": false,"targets": [{"alias": "max","dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["none"],"type": "fill"}],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "max"}]],"tags": [{"key": "name","operator": "=~","value": "/^$URL$/"}]},{"alias": "p90","dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["none"],"type": "fill"}],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "F","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": ["90"],"type": "percentile"}]],"tags": [{"key": "name","operator": "=~","value": "/^$URL$/"}]},{"alias": "p95","dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["none"],"type": "fill"}],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "G","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [95],"type": "percentile"}]],"tags": [{"key": "name","operator": "=~","value": "/^$URL$/"}]},{"alias": "min","dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["none"],"type": "fill"}],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "H","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "min"}]],"tags": [{"key": "name","operator": "=~","value": "/^$URL$/"}]}],"thresholds": [],"timeFrom": null,"timeRegions": [],"timeShift": null,"title": "$Measurement (over time)","tooltip": {"shared": true,"sort": 0,"value_type": "individual"},"type": "graph","xaxis": {"buckets": null,"mode": "time","name": null,"show": true,"values": []},"yaxes": [{"decimals": null,"format": "ms","label": "","logBase": 2,"max": null,"min": null,"show": true},{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true}],"yaxis": {"align": false,"alignLevel": null}},{"cards": {"cardPadding": null,"cardRound": null},"color": {"cardColor": "rgb(0, 234, 255)","colorScale": "sqrt","colorScheme": "interpolateRdYlGn","exponent": 0.5,"mode": "spectrum"},"dataFormat": "timeseries","datasource": "InfluxDB","fieldConfig": {"defaults": {"custom": {}},"overrides": []},"gridPos": {"h": 7,"w": 12,"x": 12,"y": 20},"heatmap": {},"height": "250px","hideZeroBuckets": false,"highlightCards": true,"id": 8,"interval": ">1s","legend": {"show": false},"links": [],"reverseYBuckets": false,"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"targets": [{"dsType": "influxdb","groupBy": [],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"title": "$Measurement (over time)","tooltip": {"show": true,"showHistogram": true},"tooltipDecimals": null,"type": "heatmap","xAxis": {"show": true},"xBucketNumber": null,"xBucketSize": null,"yAxis": {"decimals": null,"format": "ms","logBase": 2,"max": null,"min": null,"show": true,"splitFactor": null},"yBucketBound": "auto","yBucketNumber": null,"yBucketSize": null}],"refresh": "5s","schemaVersion": 25,"style": "dark","tags": [],"templating": {"list": [{"allValue": null,"current": {"selected": true,"tags": [],"text": "http_req_duration","value": ["http_req_duration"]},"hide": 0,"includeAll": true,"label": null,"multi": true,"name": "Measurement","options": [{"selected": false,"text": "All","value": "$__all"},{"selected": true,"text": "http_req_duration","value": "http_req_duration"},{"selected": false,"text": "http_req_blocked","value": "http_req_blocked"},{"selected": false,"text": "http_req_connecting","value": "http_req_connecting"},{"selected": false,"text": "http_req_looking_up","value": "http_req_looking_up"},{"selected": false,"text": "http_req_receiving","value": "http_req_receiving"},{"selected": false,"text": "http_req_sending","value": "http_req_sending"},{"selected": false,"text": "http_req_waiting","value": "http_req_waiting"}],"query": "http_req_duration,http_req_blocked,http_req_connecting,http_req_looking_up,http_req_receiving,http_req_sending,http_req_waiting","skipUrlSync": false,"type": "custom"},{"current": {"selected": false,"text": "http://localhost:5000/weatherforecast_challenge0","value": "http://localhost:5000/weatherforecast_challenge0"},"hide": 2,"label": "URL","name": "URL","options": [{"selected": true,"text": "http://localhost:5000/weatherforecast_challenge0","value": "http://localhost:5000/weatherforecast_challenge0"}],"query": "http://localhost:5000/weatherforecast_challenge0","skipUrlSync": false,"type": "constant"}]},"time": {"from": "now-5m","to": "now"},"timepicker": {"refresh_intervals": ["15s"],"time_options": ["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone": "browser","title": "Challenge 0","uid": "ReuNR5Aik","version": 9},"overwrite":true,"inputs":[],"folderId":0}' \
  --compressed


  curl 'http://grafana:3000/api/dashboards/import' \
  -H 'Connection: keep-alive' \
  -H 'accept: application/json, text/plain, */*' \
  -H 'x-grafana-org-id: 1' \
  -H 'content-type: application/json' \
  -H 'Origin: http://grafana:3000' \
  -H 'Sec-Fetch-Site: same-origin' \
  -H 'Sec-Fetch-Mode: cors' \
  -H 'Sec-Fetch-Dest: empty' \
  -H 'Referer: http://grafana:3000/dashboard/import' \
  --data-binary '{"dashboard": {"annotations": {"list": [{"builtIn": 1,"datasource": "-- Grafana --","enable": true,"hide": true,"iconColor": "rgba(0, 211, 255, 1)","name": "Annotations & Alerts","type": "dashboard"}]},"description": "Challenge 1, focus on timing","editable": true,"gnetId": 4411,"graphTooltip": 2,"id": null,"iteration": 1596201511262,"links": [],"panels": [{"aliasColors": {},"bars": false,"dashLength": 10,"dashes": false,"datasource": null,"description": "","fieldConfig": {"defaults": {"custom": {}},"overrides": []},"fill": 1,"fillGradient": 0,"gridPos": {"h": 8,"w": 12,"x": 0,"y": 0},"hiddenSeries": false,"id": 82,"legend": {"avg": false,"current": false,"max": false,"min": false,"show": true,"total": false,"values": false},"lines": true,"linewidth": 1,"nullPointMode": "null","options": {"dataLinks": []},"percentage": false,"pointradius": 2,"points": false,"renderer": "flot","seriesOverrides": [],"spaceLength": 10,"stack": false,"steppedLine": false,"targets": [{"groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "prometheus","orderByTime": "ASC","policy": "default","refId": "A","resultFormat": "time_series","select": [[{"params": ["polly_timeout"],"type": "field"},{"params": [],"type": "mean"}]],"tags": []}],"thresholds": [],"timeFrom": null,"timeRegions": [],"timeShift": null,"title": "Configured timeout (ms)","tooltip": {"shared": true,"sort": 0,"value_type": "individual"},"type": "graph","xaxis": {"buckets": null,"mode": "time","name": null,"show": true,"values": []},"yaxes": [{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true},{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true}],"yaxis": {"align": false,"alignLevel": null}},{"aliasColors": {},"bars": false,"dashLength": 10,"dashes": false,"datasource": null,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"fill": 1,"fillGradient": 0,"gridPos": {"h": 8,"w": 12,"x": 12,"y": 0},"hiddenSeries": false,"id": 80,"legend": {"avg": false,"current": false,"max": false,"min": false,"show": true,"total": false,"values": false},"lines": true,"linewidth": 1,"nullPointMode": "null","options": {"dataLinks": []},"percentage": false,"pointradius": 2,"points": false,"renderer": "flot","seriesOverrides": [],"spaceLength": 10,"stack": false,"steppedLine": false,"targets": [{"groupBy": [{"params": ["1s"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "http_reqs","orderByTime": "ASC","policy": "default","refId": "A","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "count"}]],"tags": [{"key": "name","operator": "=~","value": "/^$URL$/"}]}],"thresholds": [],"timeFrom": null,"timeRegions": [],"timeShift": null,"title": "Request pr second","tooltip": {"shared": true,"sort": 0,"value_type": "individual"},"type": "graph","xaxis": {"buckets": null,"mode": "time","name": null,"show": true,"values": []},"yaxes": [{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true},{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true}],"yaxis": {"align": false,"alignLevel": null}},{"aliasColors": {},"bars": false,"dashLength": 10,"dashes": false,"datasource": null,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"fill": 1,"fillGradient": 0,"gridPos": {"h": 8,"w": 12,"x": 0,"y": 8},"hiddenSeries": false,"id": 78,"legend": {"avg": false,"current": false,"max": false,"min": false,"show": true,"total": false,"values": false},"lines": true,"linewidth": 1,"nullPointMode": "null","options": {"dataLinks": []},"percentage": false,"pointradius": 2,"points": false,"renderer": "flot","seriesOverrides": [],"spaceLength": 10,"stack": false,"steppedLine": false,"targets": [{"groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "prometheus","orderByTime": "ASC","policy": "default","refId": "A","resultFormat": "time_series","select": [[{"params": ["polly_retries"],"type": "field"},{"params": [],"type": "mean"}]],"tags": []}],"thresholds": [],"timeFrom": null,"timeRegions": [],"timeShift": null,"title": "Configured retries","tooltip": {"shared": true,"sort": 0,"value_type": "individual"},"type": "graph","xaxis": {"buckets": null,"mode": "time","name": null,"show": true,"values": []},"yaxes": [{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true},{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true}],"yaxis": {"align": false,"alignLevel": null}},{"aliasColors": {},"bars": false,"dashLength": 10,"dashes": false,"datasource": "InfluxDB","fieldConfig": {"defaults": {"custom": {}},"overrides": []},"fill": 1,"fillGradient": 0,"gridPos": {"h": 8,"w": 12,"x": 12,"y": 8},"hiddenSeries": false,"id": 76,"legend": {"avg": false,"current": false,"max": false,"min": false,"show": true,"total": false,"values": false},"lines": true,"linewidth": 1,"nullPointMode": "null","options": {"dataLinks": []},"percentage": false,"pointradius": 2,"points": false,"renderer": "flot","seriesOverrides": [],"spaceLength": 10,"stack": false,"steppedLine": false,"targets": [{"groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "prometheus","orderByTime": "ASC","policy": "default","refId": "A","resultFormat": "time_series","select": [[{"params": ["executed_retries"],"type": "field"},{"params": [],"type": "max"}]],"tags": []}],"thresholds": [],"timeFrom": null,"timeRegions": [],"timeShift": null,"title": "Executed retries","tooltip": {"shared": true,"sort": 0,"value_type": "individual"},"type": "graph","xaxis": {"buckets": null,"mode": "time","name": null,"show": true,"values": []},"yaxes": [{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true},{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true}],"yaxis": {"align": false,"alignLevel": null}},{"aliasColors": {},"bars": false,"dashLength": 10,"dashes": false,"datasource": "InfluxDB","description": "Should be greater than 0.85","fieldConfig": {"defaults": {"custom": {}},"overrides": []},"fill": 1,"fillGradient": 0,"gridPos": {"h": 8,"w": 12,"x": 0,"y": 16},"hiddenSeries": false,"id": 72,"interval": "","legend": {"avg": false,"current": true,"hideEmpty": false,"max": true,"min": false,"show": true,"total": false,"values": true},"lines": true,"linewidth": 1,"nullPointMode": "null","options": {"dataLinks": []},"percentage": false,"pointradius": 2,"points": false,"renderer": "flot","seriesOverrides": [],"spaceLength": 10,"stack": false,"steppedLine": false,"targets": [{"groupBy": [{"params": ["1s"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "200 OK rate","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "mean"}]],"tags": []}],"thresholds": [{"colorMode": "ok","fill": true,"line": true,"op": "gt","value": 0.85,"yaxis": "left"},{"colorMode": "critical","fill": true,"line": true,"op": "gt","value": 0,"yaxis": "left"}],"timeFrom": null,"timeRegions": [],"timeShift": null,"title": "Rate of 200 OK","tooltip": {"shared": true,"sort": 0,"value_type": "individual"},"type": "graph","xaxis": {"buckets": null,"mode": "time","name": null,"show": true,"values": []},"yaxes": [{"decimals": null,"format": "short","label": "Rate of 200 OK responses","logBase": 1,"max": "1","min": "0.5","show": true},{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true}],"yaxis": {"align": false,"alignLevel": null}},{"aliasColors": {},"bars": false,"dashLength": 10,"dashes": false,"datasource": "InfluxDB","description": "Grouped by 1 sec intervals","fieldConfig": {"defaults": {"custom": {}},"overrides": []},"fill": 1,"fillGradient": 0,"gridPos": {"h": 7,"w": 12,"x": 12,"y": 16},"height": "250px","hiddenSeries": false,"id": 5,"interval": ">1s","legend": {"alignAsTable": false,"avg": false,"current": false,"hideZero": false,"max": false,"min": false,"show": true,"total": false,"values": false},"lines": true,"linewidth": 1,"links": [],"nullPointMode": "connected","options": {"dataLinks": []},"percentage": false,"pointradius": 1,"points": true,"renderer": "flot","scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"seriesOverrides": [],"spaceLength": 10,"stack": false,"steppedLine": false,"targets": [{"alias": "max","dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["none"],"type": "fill"}],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "max"}]],"tags": [{"key": "name","operator": "=~","value": "/^$URL$/"}]},{"alias": "p90","dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["none"],"type": "fill"}],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "F","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": ["90"],"type": "percentile"}]],"tags": [{"key": "name","operator": "=~","value": "/^$URL$/"}]},{"alias": "p95","dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["none"],"type": "fill"}],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "G","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [95],"type": "percentile"}]],"tags": [{"key": "name","operator": "=~","value": "/^$URL$/"}]},{"alias": "min","dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["none"],"type": "fill"}],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "H","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "min"}]],"tags": [{"key": "name","operator": "=~","value": "/^$URL$/"}]}],"thresholds": [{"colorMode": "critical","fill": true,"line": true,"op": "gt","value": 200,"yaxis": "left"}],"timeFrom": null,"timeRegions": [],"timeShift": null,"title": "$Measurement (over time)","tooltip": {"shared": true,"sort": 0,"value_type": "individual"},"type": "graph","xaxis": {"buckets": null,"mode": "time","name": null,"show": true,"values": []},"yaxes": [{"decimals": null,"format": "ms","label": "","logBase": 2,"max": null,"min": null,"show": true},{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true}],"yaxis": {"align": false,"alignLevel": null}},{"collapsed": false,"datasource": "InfluxDB","gridPos": {"h": 1,"w": 24,"x": 0,"y": 24},"id": 70,"panels": [],"repeat": "Measurement","scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"title": "$Measurement","type": "row"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 0,"y": 25},"height": "50px","id": 11,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "mean"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (mean)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "avg"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 4,"y": 25},"height": "50px","id": 14,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "max"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (max)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "avg"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 8,"y": 25},"height": "50px","id": 15,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "median"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (med)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "avg"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 12,"y": 25},"height": "50px","id": 16,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "min"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (min)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "current"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 16,"y": 25},"height": "50px","id": 12,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": ["90"],"type": "percentile"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (p90)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "avg"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 20,"y": 25},"height": "50px","id": 13,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [95],"type": "percentile"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (p95)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "avg"},{"cards": {"cardPadding": null,"cardRound": null},"color": {"cardColor": "rgb(0, 234, 255)","colorScale": "sqrt","colorScheme": "interpolateRdYlGn","exponent": 0.5,"mode": "spectrum"},"dataFormat": "timeseries","datasource": "InfluxDB","fieldConfig": {"defaults": {"custom": {}},"overrides": []},"gridPos": {"h": 7,"w": 12,"x": 12,"y": 28},"heatmap": {},"height": "250px","hideZeroBuckets": false,"highlightCards": true,"id": 8,"interval": ">1s","legend": {"show": false},"links": [],"reverseYBuckets": false,"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"targets": [{"dsType": "influxdb","groupBy": [],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"title": "$Measurement (over time)","tooltip": {"show": true,"showHistogram": true},"tooltipDecimals": null,"type": "heatmap","xAxis": {"show": true},"xBucketNumber": null,"xBucketSize": null,"yAxis": {"decimals": null,"format": "ms","logBase": 2,"max": null,"min": null,"show": true,"splitFactor": null},"yBucketBound": "auto","yBucketNumber": null,"yBucketSize": null}],"refresh": "5s","schemaVersion": 25,"style": "dark","tags": [],"templating": {"list": [{"allValue": null,"current": {"selected": true,"tags": [],"text": "http_req_duration","value": ["http_req_duration"]},"hide": 0,"includeAll": true,"label": null,"multi": true,"name": "Measurement","options": [{"selected": false,"text": "All","value": "$__all"},{"selected": true,"text": "http_req_duration","value": "http_req_duration"},{"selected": false,"text": "http_req_blocked","value": "http_req_blocked"},{"selected": false,"text": "http_req_connecting","value": "http_req_connecting"},{"selected": false,"text": "http_req_looking_up","value": "http_req_looking_up"},{"selected": false,"text": "http_req_receiving","value": "http_req_receiving"},{"selected": false,"text": "http_req_sending","value": "http_req_sending"},{"selected": false,"text": "http_req_waiting","value": "http_req_waiting"}],"query": "http_req_duration,http_req_blocked,http_req_connecting,http_req_looking_up,http_req_receiving,http_req_sending,http_req_waiting","skipUrlSync": false,"type": "custom"},{"current": {"selected": false,"text": "http://localhost:5000/weatherforecast_challenge1","value": "http://localhost:5000/weatherforecast_challenge1"},"hide": 2,"label": "URL","name": "URL","options": [{"selected": true,"text": "http://localhost:5000/weatherforecast_challenge1","value": "http://localhost:5000/weatherforecast_challenge1"}],"query": "http://localhost:5000/weatherforecast_challenge1","skipUrlSync": false,"type": "constant"}]},"time": {"from": "now-5m","to": "now"},"timepicker": {"refresh_intervals": ["15s"],"time_options": ["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone": "browser","title": "Challenge 1","uid": "7laayx4Mz","version": 6},"overwrite":true,"inputs":[],"folderId":0}' \
  --compressed

curl 'http://grafana:3000/api/dashboards/import' \
  -H 'Connection: keep-alive' \
  -H 'accept: application/json, text/plain, */*' \
  -H 'x-grafana-org-id: 1' \
  -H 'content-type: application/json' \
  -H 'Origin: http://grafana:3000' \
  -H 'Sec-Fetch-Site: same-origin' \
  -H 'Sec-Fetch-Mode: cors' \
  -H 'Sec-Fetch-Dest: empty' \
  -H 'Referer: http://grafana:3000/dashboard/import' \
  --data-binary '{"dashboard": {"annotations": {"list": [{"builtIn": 1,"datasource": "-- Grafana --","enable": true,"hide": true,"iconColor": "rgba(0, 211, 255, 1)","name": "Annotations & Alerts","type": "dashboard"}]},"description": "Challenge 1, focus on timing","editable": true,"gnetId": 4411,"graphTooltip": 2,"id": null,"iteration": 1596209991969,"links": [],"panels": [{"aliasColors": {},"bars": false,"dashLength": 10,"dashes": false,"datasource": null,"description": "","fieldConfig": {"defaults": {"custom": {}},"overrides": []},"fill": 1,"fillGradient": 0,"gridPos": {"h": 8,"w": 12,"x": 0,"y": 0},"hiddenSeries": false,"id": 82,"legend": {"avg": false,"current": false,"max": false,"min": false,"show": true,"total": false,"values": false},"lines": true,"linewidth": 1,"nullPointMode": "null","options": {"dataLinks": []},"percentage": false,"pointradius": 2,"points": false,"renderer": "flot","seriesOverrides": [],"spaceLength": 10,"stack": false,"steppedLine": false,"targets": [{"groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "prometheus","orderByTime": "ASC","policy": "default","refId": "A","resultFormat": "time_series","select": [[{"params": ["polly_timeout"],"type": "field"},{"params": [],"type": "mean"}]],"tags": []}],"thresholds": [],"timeFrom": null,"timeRegions": [],"timeShift": null,"title": "Configured timeout (ms)","tooltip": {"shared": true,"sort": 0,"value_type": "individual"},"type": "graph","xaxis": {"buckets": null,"mode": "time","name": null,"show": true,"values": []},"yaxes": [{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true},{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true}],"yaxis": {"align": false,"alignLevel": null}},{"aliasColors": {},"bars": false,"dashLength": 10,"dashes": false,"datasource": null,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"fill": 1,"fillGradient": 0,"gridPos": {"h": 8,"w": 12,"x": 12,"y": 0},"hiddenSeries": false,"id": 80,"legend": {"avg": false,"current": false,"max": false,"min": false,"show": true,"total": false,"values": false},"lines": true,"linewidth": 1,"nullPointMode": "null","options": {"dataLinks": []},"percentage": false,"pointradius": 2,"points": false,"renderer": "flot","seriesOverrides": [],"spaceLength": 10,"stack": false,"steppedLine": false,"targets": [{"groupBy": [{"params": ["1s"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "http_reqs","orderByTime": "ASC","policy": "default","refId": "A","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "count"}]],"tags": [{"key": "name","operator": "=~","value": "/^$URL$/"}]}],"thresholds": [],"timeFrom": null,"timeRegions": [],"timeShift": null,"title": "Request pr second","tooltip": {"shared": true,"sort": 0,"value_type": "individual"},"type": "graph","xaxis": {"buckets": null,"mode": "time","name": null,"show": true,"values": []},"yaxes": [{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true},{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true}],"yaxis": {"align": false,"alignLevel": null}},{"aliasColors": {},"bars": false,"dashLength": 10,"dashes": false,"datasource": null,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"fill": 1,"fillGradient": 0,"gridPos": {"h": 8,"w": 12,"x": 0,"y": 8},"hiddenSeries": false,"id": 78,"legend": {"avg": false,"current": false,"max": false,"min": false,"show": true,"total": false,"values": false},"lines": true,"linewidth": 1,"nullPointMode": "null","options": {"dataLinks": []},"percentage": false,"pointradius": 2,"points": false,"renderer": "flot","seriesOverrides": [],"spaceLength": 10,"stack": false,"steppedLine": false,"targets": [{"groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "prometheus","orderByTime": "ASC","policy": "default","refId": "A","resultFormat": "time_series","select": [[{"params": ["polly_retries"],"type": "field"},{"params": [],"type": "mean"}]],"tags": []}],"thresholds": [],"timeFrom": null,"timeRegions": [],"timeShift": null,"title": "Configured retries","tooltip": {"shared": true,"sort": 0,"value_type": "individual"},"type": "graph","xaxis": {"buckets": null,"mode": "time","name": null,"show": true,"values": []},"yaxes": [{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true},{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true}],"yaxis": {"align": false,"alignLevel": null}},{"aliasColors": {},"bars": false,"dashLength": 10,"dashes": false,"datasource": "InfluxDB","fieldConfig": {"defaults": {"custom": {}},"overrides": []},"fill": 1,"fillGradient": 0,"gridPos": {"h": 8,"w": 12,"x": 12,"y": 8},"hiddenSeries": false,"id": 76,"legend": {"avg": false,"current": false,"max": false,"min": false,"show": true,"total": false,"values": false},"lines": true,"linewidth": 1,"nullPointMode": "null","options": {"dataLinks": []},"percentage": false,"pointradius": 2,"points": false,"renderer": "flot","seriesOverrides": [],"spaceLength": 10,"stack": false,"steppedLine": false,"targets": [{"groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "prometheus","orderByTime": "ASC","policy": "default","refId": "A","resultFormat": "time_series","select": [[{"params": ["executed_retries"],"type": "field"},{"params": [],"type": "max"}]],"tags": []}],"thresholds": [],"timeFrom": null,"timeRegions": [],"timeShift": null,"title": "Executed retries","tooltip": {"shared": true,"sort": 0,"value_type": "individual"},"type": "graph","xaxis": {"buckets": null,"mode": "time","name": null,"show": true,"values": []},"yaxes": [{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true},{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true}],"yaxis": {"align": false,"alignLevel": null}},{"aliasColors": {},"bars": false,"dashLength": 10,"dashes": false,"datasource": "InfluxDB","description": "Should be greater than 0.85","fieldConfig": {"defaults": {"custom": {}},"overrides": []},"fill": 1,"fillGradient": 0,"gridPos": {"h": 8,"w": 12,"x": 0,"y": 16},"hiddenSeries": false,"id": 72,"interval": "","legend": {"avg": false,"current": true,"hideEmpty": false,"max": true,"min": false,"show": true,"total": false,"values": true},"lines": true,"linewidth": 1,"nullPointMode": "null","options": {"dataLinks": []},"percentage": false,"pointradius": 2,"points": false,"renderer": "flot","seriesOverrides": [],"spaceLength": 10,"stack": false,"steppedLine": false,"targets": [{"groupBy": [{"params": ["1s"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "200 OK rate","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "mean"}]],"tags": []}],"thresholds": [{"colorMode": "ok","fill": true,"line": true,"op": "gt","value": 0.99,"yaxis": "left"},{"colorMode": "critical","fill": true,"line": true,"op": "gt","value": 0,"yaxis": "left"}],"timeFrom": null,"timeRegions": [],"timeShift": null,"title": "Rate of 200 OK","tooltip": {"shared": true,"sort": 0,"value_type": "individual"},"type": "graph","xaxis": {"buckets": null,"mode": "time","name": null,"show": true,"values": []},"yaxes": [{"decimals": null,"format": "short","label": "Rate of 200 OK responses","logBase": 1,"max": "1","min": "0.5","show": true},{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true}],"yaxis": {"align": false,"alignLevel": null}},{"aliasColors": {},"bars": false,"dashLength": 10,"dashes": false,"datasource": "InfluxDB","description": "Grouped by 1 sec intervals","fieldConfig": {"defaults": {"custom": {}},"overrides": []},"fill": 1,"fillGradient": 0,"gridPos": {"h": 7,"w": 12,"x": 12,"y": 16},"height": "250px","hiddenSeries": false,"id": 5,"interval": ">1s","legend": {"alignAsTable": false,"avg": false,"current": false,"hideZero": false,"max": false,"min": false,"show": true,"total": false,"values": false},"lines": true,"linewidth": 1,"links": [],"nullPointMode": "connected","options": {"dataLinks": []},"percentage": false,"pointradius": 1,"points": true,"renderer": "flot","seriesOverrides": [],"spaceLength": 10,"stack": false,"steppedLine": false,"targets": [{"alias": "max","dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["none"],"type": "fill"}],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "max"}]],"tags": [{"key": "name","operator": "=~","value": "/^$URL$/"}]},{"alias": "p90","dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["none"],"type": "fill"}],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "F","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": ["90"],"type": "percentile"}]],"tags": [{"key": "name","operator": "=~","value": "/^$URL$/"}]},{"alias": "p95","dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["none"],"type": "fill"}],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "G","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [95],"type": "percentile"}]],"tags": [{"key": "name","operator": "=~","value": "/^$URL$/"}]},{"alias": "min","dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["none"],"type": "fill"}],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "H","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "min"}]],"tags": [{"key": "name","operator": "=~","value": "/^$URL$/"}]}],"thresholds": [{"colorMode": "critical","fill": true,"line": true,"op": "gt","value": 100,"yaxis": "left"}],"timeFrom": null,"timeRegions": [],"timeShift": null,"title": "$Measurement (over time)","tooltip": {"shared": true,"sort": 0,"value_type": "individual"},"type": "graph","xaxis": {"buckets": null,"mode": "time","name": null,"show": true,"values": []},"yaxes": [{"decimals": null,"format": "ms","label": "","logBase": 2,"max": null,"min": null,"show": true},{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true}],"yaxis": {"align": false,"alignLevel": null}},{"collapsed": false,"datasource": "InfluxDB","gridPos": {"h": 1,"w": 24,"x": 0,"y": 24},"id": 70,"panels": [],"repeat": "Measurement","scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"title": "$Measurement","type": "row"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 0,"y": 25},"height": "50px","id": 11,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "mean"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (mean)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "avg"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 4,"y": 25},"height": "50px","id": 14,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "max"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (max)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "avg"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 8,"y": 25},"height": "50px","id": 15,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "median"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (med)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "avg"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 12,"y": 25},"height": "50px","id": 16,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "min"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (min)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "current"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 16,"y": 25},"height": "50px","id": 12,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": ["90"],"type": "percentile"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (p90)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "avg"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 20,"y": 25},"height": "50px","id": 13,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [95],"type": "percentile"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (p95)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "avg"},{"cards": {"cardPadding": null,"cardRound": null},"color": {"cardColor": "rgb(0, 234, 255)","colorScale": "sqrt","colorScheme": "interpolateRdYlGn","exponent": 0.5,"mode": "spectrum"},"dataFormat": "timeseries","datasource": "InfluxDB","fieldConfig": {"defaults": {"custom": {}},"overrides": []},"gridPos": {"h": 7,"w": 12,"x": 12,"y": 28},"heatmap": {},"height": "250px","hideZeroBuckets": false,"highlightCards": true,"id": 8,"interval": ">1s","legend": {"show": false},"links": [],"reverseYBuckets": false,"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"targets": [{"dsType": "influxdb","groupBy": [],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"title": "$Measurement (over time)","tooltip": {"show": true,"showHistogram": true},"tooltipDecimals": null,"type": "heatmap","xAxis": {"show": true},"xBucketNumber": null,"xBucketSize": null,"yAxis": {"decimals": null,"format": "ms","logBase": 2,"max": null,"min": null,"show": true,"splitFactor": null},"yBucketBound": "auto","yBucketNumber": null,"yBucketSize": null}],"refresh": "5s","schemaVersion": 25,"style": "dark","tags": [],"templating": {"list": [{"allValue": null,"current": {"selected": true,"tags": [],"text": "http_req_duration","value": ["http_req_duration"]},"hide": 0,"includeAll": true,"label": null,"multi": true,"name": "Measurement","options": [{"selected": false,"text": "All","value": "$__all"},{"selected": true,"text": "http_req_duration","value": "http_req_duration"},{"selected": false,"text": "http_req_blocked","value": "http_req_blocked"},{"selected": false,"text": "http_req_connecting","value": "http_req_connecting"},{"selected": false,"text": "http_req_looking_up","value": "http_req_looking_up"},{"selected": false,"text": "http_req_receiving","value": "http_req_receiving"},{"selected": false,"text": "http_req_sending","value": "http_req_sending"},{"selected": false,"text": "http_req_waiting","value": "http_req_waiting"}],"query": "http_req_duration,http_req_blocked,http_req_connecting,http_req_looking_up,http_req_receiving,http_req_sending,http_req_waiting","skipUrlSync": false,"type": "custom"},{"current": {"selected": false,"text": "http://localhost:5000/weatherforecast_challenge2","value": "http://localhost:5000/weatherforecast_challenge2"},"hide": 2,"label": "URL","name": "URL","options": [{"selected": true,"text": "http://localhost:5000/weatherforecast_challenge2","value": "http://localhost:5000/weatherforecast_challenge2"}],"query": "http://localhost:5000/weatherforecast_challenge2","skipUrlSync": false,"type": "constant"}]},"time": {"from": "now-5m","to": "now"},"timepicker": {"refresh_intervals": ["15s"],"time_options": ["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone": "browser","title": "Challenge 2","uid": "9y5s0YVMz","version": 3},"overwrite":true,"inputs":[],"folderId":0}' \
  --compressed

curl 'http://grafana:3000/api/dashboards/import' \
  -H 'Connection: keep-alive' \
  -H 'accept: application/json, text/plain, */*' \
  -H 'x-grafana-org-id: 1' \
  -H 'content-type: application/json' \
  -H 'Origin: http://grafana:3000' \
  -H 'Sec-Fetch-Site: same-origin' \
  -H 'Sec-Fetch-Mode: cors' \
  -H 'Sec-Fetch-Dest: empty' \
  -H 'Referer: http://grafana:3000/dashboard/import' \
  --data-binary '{"dashboard": {"annotations": {"list": [{"builtIn": 1,"datasource": "-- Grafana --","enable": true,"hide": true,"iconColor": "rgba(0, 211, 255, 1)","name": "Annotations & Alerts","type": "dashboard"}]},"description": "Challenge 1, focus on timing","editable": true,"gnetId": 4411,"graphTooltip": 2,"id": null,"iteration": 1596212852854,"links": [],"panels": [{"aliasColors": {},"bars": false,"dashLength": 10,"dashes": false,"datasource": null,"description": "","fieldConfig": {"defaults": {"custom": {}},"overrides": []},"fill": 1,"fillGradient": 0,"gridPos": {"h": 8,"w": 12,"x": 0,"y": 0},"hiddenSeries": false,"id": 82,"legend": {"avg": false,"current": false,"max": false,"min": false,"show": true,"total": false,"values": false},"lines": true,"linewidth": 1,"nullPointMode": "null","options": {"dataLinks": []},"percentage": false,"pointradius": 2,"points": false,"renderer": "flot","seriesOverrides": [],"spaceLength": 10,"stack": false,"steppedLine": false,"targets": [{"groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "prometheus","orderByTime": "ASC","policy": "default","refId": "A","resultFormat": "time_series","select": [[{"params": ["polly_timeout"],"type": "field"},{"params": [],"type": "mean"}]],"tags": []}],"thresholds": [],"timeFrom": null,"timeRegions": [],"timeShift": null,"title": "Configured timeout (ms)","tooltip": {"shared": true,"sort": 0,"value_type": "individual"},"type": "graph","xaxis": {"buckets": null,"mode": "time","name": null,"show": true,"values": []},"yaxes": [{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true},{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true}],"yaxis": {"align": false,"alignLevel": null}},{"aliasColors": {},"bars": false,"dashLength": 10,"dashes": false,"datasource": null,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"fill": 1,"fillGradient": 0,"gridPos": {"h": 8,"w": 12,"x": 12,"y": 0},"hiddenSeries": false,"id": 80,"legend": {"avg": false,"current": false,"max": false,"min": false,"show": true,"total": false,"values": false},"lines": true,"linewidth": 1,"nullPointMode": "null","options": {"dataLinks": []},"percentage": false,"pointradius": 2,"points": false,"renderer": "flot","seriesOverrides": [],"spaceLength": 10,"stack": false,"steppedLine": false,"targets": [{"groupBy": [{"params": ["1s"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "http_reqs","orderByTime": "ASC","policy": "default","refId": "A","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "count"}]],"tags": [{"key": "name","operator": "=~","value": "/^$URL$/"}]}],"thresholds": [],"timeFrom": null,"timeRegions": [],"timeShift": null,"title": "Request pr second","tooltip": {"shared": true,"sort": 0,"value_type": "individual"},"type": "graph","xaxis": {"buckets": null,"mode": "time","name": null,"show": true,"values": []},"yaxes": [{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true},{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true}],"yaxis": {"align": false,"alignLevel": null}},{"aliasColors": {},"bars": false,"dashLength": 10,"dashes": false,"datasource": null,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"fill": 1,"fillGradient": 0,"gridPos": {"h": 8,"w": 12,"x": 0,"y": 8},"hiddenSeries": false,"id": 78,"legend": {"avg": false,"current": false,"max": false,"min": false,"show": true,"total": false,"values": false},"lines": true,"linewidth": 1,"nullPointMode": "null","options": {"dataLinks": []},"percentage": false,"pointradius": 2,"points": false,"renderer": "flot","seriesOverrides": [],"spaceLength": 10,"stack": false,"steppedLine": false,"targets": [{"groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "prometheus","orderByTime": "ASC","policy": "default","refId": "A","resultFormat": "time_series","select": [[{"params": ["polly_retries"],"type": "field"},{"params": [],"type": "mean"}]],"tags": []}],"thresholds": [],"timeFrom": null,"timeRegions": [],"timeShift": null,"title": "Configured retries","tooltip": {"shared": true,"sort": 0,"value_type": "individual"},"type": "graph","xaxis": {"buckets": null,"mode": "time","name": null,"show": true,"values": []},"yaxes": [{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true},{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true}],"yaxis": {"align": false,"alignLevel": null}},{"aliasColors": {},"bars": false,"dashLength": 10,"dashes": false,"datasource": "InfluxDB","fieldConfig": {"defaults": {"custom": {}},"overrides": []},"fill": 1,"fillGradient": 0,"gridPos": {"h": 8,"w": 12,"x": 12,"y": 8},"hiddenSeries": false,"id": 76,"legend": {"avg": false,"current": false,"max": false,"min": false,"show": true,"total": false,"values": false},"lines": true,"linewidth": 1,"nullPointMode": "null","options": {"dataLinks": []},"percentage": false,"pointradius": 2,"points": false,"renderer": "flot","seriesOverrides": [],"spaceLength": 10,"stack": false,"steppedLine": false,"targets": [{"groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "prometheus","orderByTime": "ASC","policy": "default","refId": "A","resultFormat": "time_series","select": [[{"params": ["executed_retries"],"type": "field"},{"params": [],"type": "max"}]],"tags": []}],"thresholds": [],"timeFrom": null,"timeRegions": [],"timeShift": null,"title": "Executed retries","tooltip": {"shared": true,"sort": 0,"value_type": "individual"},"type": "graph","xaxis": {"buckets": null,"mode": "time","name": null,"show": true,"values": []},"yaxes": [{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true},{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true}],"yaxis": {"align": false,"alignLevel": null}},{"aliasColors": {},"bars": false,"dashLength": 10,"dashes": false,"datasource": "InfluxDB","description": "Should be greater than 0.85","fieldConfig": {"defaults": {"custom": {}},"overrides": []},"fill": 1,"fillGradient": 0,"gridPos": {"h": 8,"w": 12,"x": 0,"y": 16},"hiddenSeries": false,"id": 72,"interval": "","legend": {"avg": false,"current": true,"hideEmpty": false,"max": true,"min": false,"show": true,"total": false,"values": true},"lines": true,"linewidth": 1,"nullPointMode": "null","options": {"dataLinks": []},"percentage": false,"pointradius": 2,"points": false,"renderer": "flot","seriesOverrides": [],"spaceLength": 10,"stack": false,"steppedLine": false,"targets": [{"groupBy": [{"params": ["1s"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "200 OK rate","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "mean"}]],"tags": []}],"thresholds": [{"colorMode": "ok","fill": true,"line": true,"op": "gt","value": 0.99,"yaxis": "left"},{"colorMode": "critical","fill": true,"line": true,"op": "gt","value": 0,"yaxis": "left"}],"timeFrom": null,"timeRegions": [],"timeShift": null,"title": "Rate of 200 OK","tooltip": {"shared": true,"sort": 0,"value_type": "individual"},"type": "graph","xaxis": {"buckets": null,"mode": "time","name": null,"show": true,"values": []},"yaxes": [{"decimals": null,"format": "short","label": "Rate of 200 OK responses","logBase": 1,"max": "1","min": "0.5","show": true},{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true}],"yaxis": {"align": false,"alignLevel": null}},{"aliasColors": {},"bars": false,"dashLength": 10,"dashes": false,"datasource": "InfluxDB","description": "Grouped by 1 sec intervals","fieldConfig": {"defaults": {"custom": {}},"overrides": []},"fill": 1,"fillGradient": 0,"gridPos": {"h": 7,"w": 12,"x": 12,"y": 16},"height": "250px","hiddenSeries": false,"id": 5,"interval": ">1s","legend": {"alignAsTable": false,"avg": false,"current": false,"hideZero": false,"max": false,"min": false,"show": true,"total": false,"values": false},"lines": true,"linewidth": 1,"links": [],"nullPointMode": "connected","options": {"dataLinks": []},"percentage": false,"pointradius": 1,"points": true,"renderer": "flot","seriesOverrides": [],"spaceLength": 10,"stack": false,"steppedLine": false,"targets": [{"alias": "max","dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["none"],"type": "fill"}],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "max"}]],"tags": [{"key": "name","operator": "=~","value": "/^$URL$/"}]},{"alias": "p90","dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["none"],"type": "fill"}],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "F","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": ["90"],"type": "percentile"}]],"tags": [{"key": "name","operator": "=~","value": "/^$URL$/"}]},{"alias": "p95","dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["none"],"type": "fill"}],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "G","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [95],"type": "percentile"}]],"tags": [{"key": "name","operator": "=~","value": "/^$URL$/"}]},{"alias": "min","dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["none"],"type": "fill"}],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "H","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "min"}]],"tags": [{"key": "name","operator": "=~","value": "/^$URL$/"}]}],"thresholds": [{"colorMode": "critical","fill": true,"line": true,"op": "gt","value": 100,"yaxis": "left"}],"timeFrom": null,"timeRegions": [],"timeShift": null,"title": "$Measurement (over time)","tooltip": {"shared": true,"sort": 0,"value_type": "individual"},"type": "graph","xaxis": {"buckets": null,"mode": "time","name": null,"show": true,"values": []},"yaxes": [{"decimals": null,"format": "ms","label": "","logBase": 2,"max": null,"min": null,"show": true},{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true}],"yaxis": {"align": false,"alignLevel": null}},{"collapsed": false,"datasource": "InfluxDB","gridPos": {"h": 1,"w": 24,"x": 0,"y": 24},"id": 70,"panels": [],"repeat": "Measurement","scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"title": "$Measurement","type": "row"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 0,"y": 25},"height": "50px","id": 11,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "mean"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (mean)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "avg"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 4,"y": 25},"height": "50px","id": 14,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "max"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (max)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "avg"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 8,"y": 25},"height": "50px","id": 15,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "median"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (med)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "avg"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 12,"y": 25},"height": "50px","id": 16,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "min"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (min)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "current"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 16,"y": 25},"height": "50px","id": 12,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": ["90"],"type": "percentile"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (p90)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "avg"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 20,"y": 25},"height": "50px","id": 13,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [95],"type": "percentile"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (p95)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "avg"},{"cards": {"cardPadding": null,"cardRound": null},"color": {"cardColor": "rgb(0, 234, 255)","colorScale": "sqrt","colorScheme": "interpolateRdYlGn","exponent": 0.5,"mode": "spectrum"},"dataFormat": "timeseries","datasource": "InfluxDB","fieldConfig": {"defaults": {"custom": {}},"overrides": []},"gridPos": {"h": 7,"w": 12,"x": 12,"y": 28},"heatmap": {},"height": "250px","hideZeroBuckets": false,"highlightCards": true,"id": 8,"interval": ">1s","legend": {"show": false},"links": [],"reverseYBuckets": false,"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"targets": [{"dsType": "influxdb","groupBy": [],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"title": "$Measurement (over time)","tooltip": {"show": true,"showHistogram": true},"tooltipDecimals": null,"type": "heatmap","xAxis": {"show": true},"xBucketNumber": null,"xBucketSize": null,"yAxis": {"decimals": null,"format": "ms","logBase": 2,"max": null,"min": null,"show": true,"splitFactor": null},"yBucketBound": "auto","yBucketNumber": null,"yBucketSize": null}],"refresh": "5s","schemaVersion": 25,"style": "dark","tags": [],"templating": {"list": [{"allValue": null,"current": {"selected": true,"tags": [],"text": "http_req_duration","value": ["http_req_duration"]},"hide": 0,"includeAll": true,"label": null,"multi": true,"name": "Measurement","options": [{"selected": false,"text": "All","value": "$__all"},{"selected": true,"text": "http_req_duration","value": "http_req_duration"},{"selected": false,"text": "http_req_blocked","value": "http_req_blocked"},{"selected": false,"text": "http_req_connecting","value": "http_req_connecting"},{"selected": false,"text": "http_req_looking_up","value": "http_req_looking_up"},{"selected": false,"text": "http_req_receiving","value": "http_req_receiving"},{"selected": false,"text": "http_req_sending","value": "http_req_sending"},{"selected": false,"text": "http_req_waiting","value": "http_req_waiting"}],"query": "http_req_duration,http_req_blocked,http_req_connecting,http_req_looking_up,http_req_receiving,http_req_sending,http_req_waiting","skipUrlSync": false,"type": "custom"},{"current": {"selected": false,"text": "http://localhost:5000/weatherforecast_challenge3","value": "http://localhost:5000/weatherforecast_challenge3"},"hide": 2,"label": "URL","name": "URL","options": [{"selected": true,"text": "http://localhost:5000/weatherforecast_challenge3","value": "http://localhost:5000/weatherforecast_challenge3"}],"query": "http://localhost:5000/weatherforecast_challenge3","skipUrlSync": false,"type": "constant"}]},"time": {"from": "now-5m","to": "now"},"timepicker": {"refresh_intervals": ["15s"],"time_options": ["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone": "browser","title": "Challenge 3","uid": "IdRzaYVGz","version": 2}, "overwrite":true,"inputs":[],"folderId":0}' \
  --compressed

curl 'http://grafana:3000/api/dashboards/import' \
  -H 'Connection: keep-alive' \
  -H 'accept: application/json, text/plain, */*' \
  -H 'x-grafana-org-id: 1' \
  -H 'content-type: application/json' \
  -H 'Origin: http://grafana:3000' \
  -H 'Sec-Fetch-Site: same-origin' \
  -H 'Sec-Fetch-Mode: cors' \
  -H 'Sec-Fetch-Dest: empty' \
  -H 'Referer: http://grafana:3000/dashboard/import' \
  --data-binary '{"dashboard": {"annotations": {"list": [{"builtIn": 1,"datasource": "-- Grafana --","enable": true,"hide": true,"iconColor": "rgba(0, 211, 255, 1)","name": "Annotations & Alerts","type": "dashboard"}]},"description": "Challenge 4. cancelling things","editable": true,"gnetId": 4411,"graphTooltip": 2,"id": null,"iteration": 1596532646946,"links": [],"panels": [{"aliasColors": {},"bars": false,"dashLength": 10,"dashes": false,"datasource": "InfluxDB","description": "Should be greater than 0.85","fieldConfig": {"defaults": {"custom": {}},"overrides": []},"fill": 1,"fillGradient": 0,"gridPos": {"h": 8,"w": 12,"x": 0,"y": 0},"hiddenSeries": false,"id": 72,"interval": "","legend": {"avg": false,"current": true,"hideEmpty": false,"max": true,"min": false,"show": true,"total": false,"values": true},"lines": true,"linewidth": 1,"nullPointMode": "null","options": {"dataLinks": []},"percentage": false,"pointradius": 2,"points": false,"renderer": "flot","seriesOverrides": [],"spaceLength": 10,"stack": false,"steppedLine": false,"targets": [{"groupBy": [{"params": ["1s"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "200 OK rate","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "mean"}]],"tags": []}],"thresholds": [{"colorMode": "ok","fill": true,"line": true,"op": "gt","value": 0.8,"yaxis": "left"},{"colorMode": "critical","fill": true,"line": true,"op": "gt","value": 0,"yaxis": "left"}],"timeFrom": null,"timeRegions": [],"timeShift": null,"title": "Rate of 200 OK","tooltip": {"shared": true,"sort": 0,"value_type": "individual"},"type": "graph","xaxis": {"buckets": null,"mode": "time","name": null,"show": true,"values": []},"yaxes": [{"decimals": null,"format": "short","label": "Rate of 200 OK responses","logBase": 1,"max": "1","min": "0.5","show": true},{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true}],"yaxis": {"align": false,"alignLevel": null}},{"aliasColors": {},"bars": false,"dashLength": 10,"dashes": false,"datasource": "InfluxDB","description": "Grouped by 1 sec intervals","fieldConfig": {"defaults": {"custom": {}},"overrides": []},"fill": 1,"fillGradient": 0,"gridPos": {"h": 7,"w": 12,"x": 12,"y": 0},"height": "250px","hiddenSeries": false,"id": 5,"interval": ">1s","legend": {"alignAsTable": false,"avg": false,"current": false,"hideZero": false,"max": false,"min": false,"show": true,"total": false,"values": false},"lines": true,"linewidth": 1,"links": [],"nullPointMode": "connected","options": {"dataLinks": []},"percentage": false,"pointradius": 1,"points": true,"renderer": "flot","seriesOverrides": [],"spaceLength": 10,"stack": false,"steppedLine": false,"targets": [{"alias": "max","dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["none"],"type": "fill"}],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "max"}]],"tags": [{"key": "name","operator": "=~","value": "/^$URL$/"}]},{"alias": "p90","dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["none"],"type": "fill"}],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "F","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": ["90"],"type": "percentile"}]],"tags": [{"key": "name","operator": "=~","value": "/^$URL$/"}]},{"alias": "p95","dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["none"],"type": "fill"}],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "G","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [95],"type": "percentile"}]],"tags": [{"key": "name","operator": "=~","value": "/^$URL$/"}]},{"alias": "min","dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["none"],"type": "fill"}],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "H","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "min"}]],"tags": [{"key": "name","operator": "=~","value": "/^$URL$/"}]}],"thresholds": [{"colorMode": "critical","fill": true,"line": true,"op": "gt","value": 100,"yaxis": "left"}],"timeFrom": null,"timeRegions": [],"timeShift": null,"title": "$Measurement (over time)","tooltip": {"shared": true,"sort": 0,"value_type": "individual"},"type": "graph","xaxis": {"buckets": null,"mode": "time","name": null,"show": true,"values": []},"yaxes": [{"decimals": null,"format": "ms","label": "","logBase": 2,"max": null,"min": null,"show": true},{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true}],"yaxis": {"align": false,"alignLevel": null}},{"collapsed": false,"datasource": "InfluxDB","gridPos": {"h": 1,"w": 24,"x": 0,"y": 8},"id": 70,"panels": [],"repeat": "Measurement","scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"title": "$Measurement","type": "row"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 0,"y": 9},"height": "50px","id": 11,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "mean"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (mean)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "avg"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 4,"y": 9},"height": "50px","id": 14,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "max"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (max)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "avg"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 8,"y": 9},"height": "50px","id": 15,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "median"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (med)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "avg"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 12,"y": 9},"height": "50px","id": 16,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "min"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (min)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "current"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 16,"y": 9},"height": "50px","id": 12,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": ["90"],"type": "percentile"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (p90)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "avg"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 20,"y": 9},"height": "50px","id": 13,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [95],"type": "percentile"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (p95)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "avg"},{"cards": {"cardPadding": null,"cardRound": null},"color": {"cardColor": "rgb(0, 234, 255)","colorScale": "sqrt","colorScheme": "interpolateRdYlGn","exponent": 0.5,"mode": "spectrum"},"dataFormat": "timeseries","datasource": "InfluxDB","fieldConfig": {"defaults": {"custom": {}},"overrides": []},"gridPos": {"h": 7,"w": 12,"x": 0,"y": 12},"heatmap": {},"height": "250px","hideZeroBuckets": false,"highlightCards": true,"id": 8,"interval": ">1s","legend": {"show": false},"links": [],"reverseYBuckets": false,"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"targets": [{"dsType": "influxdb","groupBy": [],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"title": "$Measurement (over time)","tooltip": {"show": true,"showHistogram": true},"tooltipDecimals": null,"type": "heatmap","xAxis": {"show": true},"xBucketNumber": null,"xBucketSize": null,"yAxis": {"decimals": null,"format": "ms","logBase": 2,"max": null,"min": null,"show": true,"splitFactor": null},"yBucketBound": "auto","yBucketNumber": null,"yBucketSize": null},{"aliasColors": {},"bars": false,"dashLength": 10,"dashes": false,"datasource": null,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"fill": 1,"fillGradient": 0,"gridPos": {"h": 8,"w": 12,"x": 12,"y": 12},"hiddenSeries": false,"id": 80,"legend": {"avg": false,"current": false,"max": false,"min": false,"show": true,"total": false,"values": false},"lines": true,"linewidth": 1,"nullPointMode": "null","options": {"dataLinks": []},"percentage": false,"pointradius": 2,"points": false,"renderer": "flot","seriesOverrides": [],"spaceLength": 10,"stack": false,"steppedLine": false,"targets": [{"groupBy": [{"params": ["1s"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "http_reqs","orderByTime": "ASC","policy": "default","refId": "A","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "count"}]],"tags": [{"key": "name","operator": "=~","value": "/^$URL$/"}]}],"thresholds": [],"timeFrom": null,"timeRegions": [],"timeShift": null,"title": "Request pr second","tooltip": {"shared": true,"sort": 0,"value_type": "individual"},"type": "graph","xaxis": {"buckets": null,"mode": "time","name": null,"show": true,"values": []},"yaxes": [{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true},{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true}],"yaxis": {"align": false,"alignLevel": null}}],"refresh": "5s","schemaVersion": 25,"style": "dark","tags": [],"templating": {"list": [{"allValue": null,"current": {"selected": true,"tags": [],"text": "http_req_duration","value": ["http_req_duration"]},"hide": 0,"includeAll": true,"label": null,"multi": true,"name": "Measurement","options": [{"selected": false,"text": "All","value": "$__all"},{"selected": true,"text": "http_req_duration","value": "http_req_duration"},{"selected": false,"text": "http_req_blocked","value": "http_req_blocked"},{"selected": false,"text": "http_req_connecting","value": "http_req_connecting"},{"selected": false,"text": "http_req_looking_up","value": "http_req_looking_up"},{"selected": false,"text": "http_req_receiving","value": "http_req_receiving"},{"selected": false,"text": "http_req_sending","value": "http_req_sending"},{"selected": false,"text": "http_req_waiting","value": "http_req_waiting"}],"query": "http_req_duration,http_req_blocked,http_req_connecting,http_req_looking_up,http_req_receiving,http_req_sending,http_req_waiting","skipUrlSync": false,"type": "custom"},{"current": {"selected": false,"text": "http://localhost:5000/weatherforecast_challenge4","value": "http://localhost:5000/weatherforecast_challenge4"},"hide": 2,"label": "URL","name": "URL","options": [{"selected": true,"text": "http://localhost:5000/weatherforecast_challenge4","value": "http://localhost:5000/weatherforecast_challenge4"}],"query": "http://localhost:5000/weatherforecast_challenge4","skipUrlSync": false,"type": "constant"}]},"time": {"from": "now-5m","to": "now"},"timepicker": {"refresh_intervals": ["15s"],"time_options": ["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone": "browser","title": "Challenge 4","uid": "KRR2Me4Gk","version": 4}, "overwrite":true,"inputs":[],"folderId":0}' \
  --compressed

curl 'http://grafana:3000/api/dashboards/import' \
  -H 'Connection: keep-alive' \
  -H 'accept: application/json, text/plain, */*' \
  -H 'x-grafana-org-id: 1' \
  -H 'content-type: application/json' \
  -H 'Origin: http://grafana:3000' \
  -H 'Sec-Fetch-Site: same-origin' \
  -H 'Sec-Fetch-Mode: cors' \
  -H 'Sec-Fetch-Dest: empty' \
  -H 'Referer: http://grafana:3000/dashboard/import' \
  --data-binary '{"dashboard":  {"annotations": {"list": [{"builtIn": 1,"datasource": "-- Grafana --","enable": true,"hide": true,"iconColor": "rgba(0, 211, 255, 1)","name": "Annotations & Alerts","type": "dashboard"}]},"description": "Challenge 5, cancelling on closed connections","editable": true,"gnetId": 4411,"graphTooltip": 2,"id": null,"iteration": 1596537054566,"links": [],"panels": [{"aliasColors": {},"bars": false,"dashLength": 10,"dashes": false,"datasource": "InfluxDB","description": "Should be greater than 0.85","fieldConfig": {"defaults": {"custom": {}},"overrides": []},"fill": 1,"fillGradient": 0,"gridPos": {"h": 8,"w": 12,"x": 0,"y": 0},"hiddenSeries": false,"id": 72,"interval": "","legend": {"avg": false,"current": true,"hideEmpty": false,"max": true,"min": false,"show": true,"total": false,"values": true},"lines": true,"linewidth": 1,"nullPointMode": "null","options": {"dataLinks": []},"percentage": false,"pointradius": 2,"points": false,"renderer": "flot","seriesOverrides": [],"spaceLength": 10,"stack": false,"steppedLine": false,"targets": [{"groupBy": [{"params": ["1s"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "200 OK rate","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "mean"}]],"tags": []}],"thresholds": [{"colorMode": "ok","fill": true,"line": true,"op": "gt","value": 0.8,"yaxis": "left"},{"colorMode": "critical","fill": true,"line": true,"op": "gt","value": 0,"yaxis": "left"}],"timeFrom": null,"timeRegions": [],"timeShift": null,"title": "Rate of 200 OK","tooltip": {"shared": true,"sort": 0,"value_type": "individual"},"type": "graph","xaxis": {"buckets": null,"mode": "time","name": null,"show": true,"values": []},"yaxes": [{"decimals": null,"format": "short","label": "Rate of 200 OK responses","logBase": 1,"max": "1","min": "0.5","show": true},{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true}],"yaxis": {"align": false,"alignLevel": null}},{"aliasColors": {},"bars": false,"dashLength": 10,"dashes": false,"datasource": "InfluxDB","description": "Grouped by 1 sec intervals","fieldConfig": {"defaults": {"custom": {}},"overrides": []},"fill": 1,"fillGradient": 0,"gridPos": {"h": 7,"w": 12,"x": 12,"y": 0},"height": "250px","hiddenSeries": false,"id": 5,"interval": ">1s","legend": {"alignAsTable": false,"avg": false,"current": false,"hideZero": false,"max": false,"min": false,"show": true,"total": false,"values": false},"lines": true,"linewidth": 1,"links": [],"nullPointMode": "connected","options": {"dataLinks": []},"percentage": false,"pointradius": 1,"points": true,"renderer": "flot","seriesOverrides": [],"spaceLength": 10,"stack": false,"steppedLine": false,"targets": [{"alias": "max","dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["none"],"type": "fill"}],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "max"}]],"tags": [{"key": "name","operator": "=~","value": "/^$URL$/"}]},{"alias": "p90","dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["none"],"type": "fill"}],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "F","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": ["90"],"type": "percentile"}]],"tags": [{"key": "name","operator": "=~","value": "/^$URL$/"}]},{"alias": "p95","dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["none"],"type": "fill"}],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "G","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [95],"type": "percentile"}]],"tags": [{"key": "name","operator": "=~","value": "/^$URL$/"}]},{"alias": "min","dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["none"],"type": "fill"}],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "H","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "min"}]],"tags": [{"key": "name","operator": "=~","value": "/^$URL$/"}]}],"thresholds": [{"colorMode": "critical","fill": true,"line": true,"op": "gt","value": 100,"yaxis": "left"}],"timeFrom": null,"timeRegions": [],"timeShift": null,"title": "$Measurement (over time)","tooltip": {"shared": true,"sort": 0,"value_type": "individual"},"type": "graph","xaxis": {"buckets": null,"mode": "time","name": null,"show": true,"values": []},"yaxes": [{"decimals": null,"format": "ms","label": "","logBase": 2,"max": null,"min": null,"show": true},{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true}],"yaxis": {"align": false,"alignLevel": null}},{"collapsed": false,"datasource": "InfluxDB","gridPos": {"h": 1,"w": 24,"x": 0,"y": 8},"id": 70,"panels": [],"repeat": "Measurement","scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"title": "$Measurement","type": "row"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 0,"y": 9},"height": "50px","id": 11,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "mean"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (mean)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "avg"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 4,"y": 9},"height": "50px","id": 14,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "max"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (max)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "avg"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 8,"y": 9},"height": "50px","id": 15,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "median"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (med)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "avg"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 12,"y": 9},"height": "50px","id": 16,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "min"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (min)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "current"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 16,"y": 9},"height": "50px","id": 12,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": ["90"],"type": "percentile"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (p90)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "avg"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 20,"y": 9},"height": "50px","id": 13,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [95],"type": "percentile"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (p95)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "avg"},{"cards": {"cardPadding": null,"cardRound": null},"color": {"cardColor": "rgb(0, 234, 255)","colorScale": "sqrt","colorScheme": "interpolateRdYlGn","exponent": 0.5,"mode": "spectrum"},"dataFormat": "timeseries","datasource": "InfluxDB","fieldConfig": {"defaults": {"custom": {}},"overrides": []},"gridPos": {"h": 7,"w": 12,"x": 0,"y": 12},"heatmap": {},"height": "250px","hideZeroBuckets": false,"highlightCards": true,"id": 8,"interval": ">1s","legend": {"show": false},"links": [],"reverseYBuckets": false,"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"targets": [{"dsType": "influxdb","groupBy": [],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"title": "$Measurement (over time)","tooltip": {"show": true,"showHistogram": true},"tooltipDecimals": null,"type": "heatmap","xAxis": {"show": true},"xBucketNumber": null,"xBucketSize": null,"yAxis": {"decimals": null,"format": "ms","logBase": 2,"max": null,"min": null,"show": true,"splitFactor": null},"yBucketBound": "auto","yBucketNumber": null,"yBucketSize": null},{"aliasColors": {},"bars": false,"dashLength": 10,"dashes": false,"datasource": null,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"fill": 1,"fillGradient": 0,"gridPos": {"h": 8,"w": 12,"x": 12,"y": 12},"hiddenSeries": false,"id": 80,"legend": {"avg": false,"current": false,"max": false,"min": false,"show": true,"total": false,"values": false},"lines": true,"linewidth": 1,"nullPointMode": "null","options": {"dataLinks": []},"percentage": false,"pointradius": 2,"points": false,"renderer": "flot","scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"seriesOverrides": [],"spaceLength": 10,"stack": false,"steppedLine": false,"targets": [{"groupBy": [{"params": ["1s"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "http_reqs","orderByTime": "ASC","policy": "default","refId": "A","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "count"}]],"tags": [{"key": "name","operator": "=~","value": "/^$URL$/"}]}],"thresholds": [],"timeFrom": null,"timeRegions": [],"timeShift": null,"title": "Request pr second","tooltip": {"shared": true,"sort": 0,"value_type": "individual"},"type": "graph","xaxis": {"buckets": null,"mode": "time","name": null,"show": true,"values": []},"yaxes": [{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true},{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true}],"yaxis": {"align": false,"alignLevel": null}}],"refresh": "5s","schemaVersion": 25,"style": "dark","tags": [],"templating": {"list": [{"allValue": null,"current": {"selected": true,"tags": [],"text": "http_req_duration","value": ["http_req_duration"]},"hide": 0,"includeAll": true,"label": null,"multi": true,"name": "Measurement","options": [{"selected": false,"text": "All","value": "$__all"},{"selected": true,"text": "http_req_duration","value": "http_req_duration"},{"selected": false,"text": "http_req_blocked","value": "http_req_blocked"},{"selected": false,"text": "http_req_connecting","value": "http_req_connecting"},{"selected": false,"text": "http_req_looking_up","value": "http_req_looking_up"},{"selected": false,"text": "http_req_receiving","value": "http_req_receiving"},{"selected": false,"text": "http_req_sending","value": "http_req_sending"},{"selected": false,"text": "http_req_waiting","value": "http_req_waiting"}],"query": "http_req_duration,http_req_blocked,http_req_connecting,http_req_looking_up,http_req_receiving,http_req_sending,http_req_waiting","skipUrlSync": false,"type": "custom"},{"current": {"selected": false,"text": "http://localhost:5000/weatherforecast_challenge5","value": "http://localhost:5000/weatherforecast_challenge5"},"hide": 2,"label": "URL","name": "URL","options": [{"selected": true,"text": "http://localhost:5000/weatherforecast_challenge5","value": "http://localhost:5000/weatherforecast_challenge5"}],"query": "http://localhost:5000/weatherforecast_challenge5","skipUrlSync": false,"type": "constant"}]},"time": {"from": "now-5m","to": "now"},"timepicker": {"refresh_intervals": ["15s"],"time_options": ["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone": "browser","title": "Challenge 5","uid": "_4AfH6VMk","version": 1}, "overwrite":true,"inputs":[],"folderId":0}' \
  --compressed

curl 'http://grafana:3000/api/dashboards/import' \
  -H 'Connection: keep-alive' \
  -H 'accept: application/json, text/plain, */*' \
  -H 'x-grafana-org-id: 1' \
  -H 'content-type: application/json' \
  -H 'Origin: http://grafana:3000' \
  -H 'Sec-Fetch-Site: same-origin' \
  -H 'Sec-Fetch-Mode: cors' \
  -H 'Sec-Fetch-Dest: empty' \
  -H 'Referer: http://grafana:3000/dashboard/import' \
  --data-binary '{"dashboard": {"annotations": {"list": [{"builtIn": 1,"datasource": "-- Grafana --","enable": true,"hide": true,"iconColor": "rgba(0, 211, 255, 1)","name": "Annotations & Alerts","type": "dashboard"}]},"description": "Challenge 10, cancelling on closed connections","editable": true,"gnetId": 4411,"graphTooltip": 2,"id": null,"iteration": 1596629708157,"links": [],"panels": [{"aliasColors": {},"bars": false,"dashLength": 10,"dashes": false,"datasource": "InfluxDB","description": "Should be greater than 0.85","fieldConfig": {"defaults": {"custom": {}},"overrides": []},"fill": 1,"fillGradient": 0,"gridPos": {"h": 8,"w": 12,"x": 0,"y": 0},"hiddenSeries": false,"id": 72,"interval": "","legend": {"avg": false,"current": true,"hideEmpty": false,"max": true,"min": false,"show": true,"total": false,"values": true},"lines": true,"linewidth": 1,"nullPointMode": "null","options": {"dataLinks": []},"percentage": false,"pointradius": 2,"points": false,"renderer": "flot","seriesOverrides": [],"spaceLength": 10,"stack": false,"steppedLine": false,"targets": [{"groupBy": [{"params": ["1s"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "200 OK rate","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "mean"}]],"tags": []}],"thresholds": [{"colorMode": "ok","fill": true,"line": true,"op": "gt","value": 0.9,"yaxis": "left"},{"colorMode": "critical","fill": true,"line": true,"op": "gt","value": 0,"yaxis": "left"}],"timeFrom": null,"timeRegions": [],"timeShift": null,"title": "Rate of 200 OK","tooltip": {"shared": true,"sort": 0,"value_type": "individual"},"type": "graph","xaxis": {"buckets": null,"mode": "time","name": null,"show": true,"values": []},"yaxes": [{"decimals": null,"format": "short","label": "Rate of 200 OK responses","logBase": 1,"max": "1","min": "0.0","show": true},{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true}],"yaxis": {"align": false,"alignLevel": null}},{"aliasColors": {},"bars": false,"dashLength": 10,"dashes": false,"datasource": "InfluxDB","description": "Grouped by 1 sec intervals","fieldConfig": {"defaults": {"custom": {}},"overrides": []},"fill": 1,"fillGradient": 0,"gridPos": {"h": 7,"w": 12,"x": 12,"y": 0},"height": "250px","hiddenSeries": false,"id": 5,"interval": ">1s","legend": {"alignAsTable": false,"avg": false,"current": false,"hideZero": false,"max": false,"min": false,"show": true,"total": false,"values": false},"lines": true,"linewidth": 1,"links": [],"nullPointMode": "connected","options": {"dataLinks": []},"percentage": false,"pointradius": 1,"points": true,"renderer": "flot","seriesOverrides": [],"spaceLength": 10,"stack": false,"steppedLine": false,"targets": [{"alias": "max","dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["none"],"type": "fill"}],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "max"}]],"tags": [{"key": "name","operator": "=~","value": "/^$URL$/"}]},{"alias": "p90","dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["none"],"type": "fill"}],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "F","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": ["90"],"type": "percentile"}]],"tags": [{"key": "name","operator": "=~","value": "/^$URL$/"}]},{"alias": "p95","dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["none"],"type": "fill"}],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "G","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [95],"type": "percentile"}]],"tags": [{"key": "name","operator": "=~","value": "/^$URL$/"}]},{"alias": "min","dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["none"],"type": "fill"}],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "H","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "min"}]],"tags": [{"key": "name","operator": "=~","value": "/^$URL$/"}]}],"thresholds": [{"colorMode": "critical","fill": true,"line": true,"op": "gt","value": 100,"yaxis": "left"}],"timeFrom": null,"timeRegions": [],"timeShift": null,"title": "$Measurement (over time)","tooltip": {"shared": true,"sort": 0,"value_type": "individual"},"type": "graph","xaxis": {"buckets": null,"mode": "time","name": null,"show": true,"values": []},"yaxes": [{"decimals": null,"format": "ms","label": "","logBase": 2,"max": null,"min": null,"show": true},{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true}],"yaxis": {"align": false,"alignLevel": null}},{"collapsed": false,"datasource": "InfluxDB","gridPos": {"h": 1,"w": 24,"x": 0,"y": 8},"id": 70,"panels": [],"repeat": "Measurement","scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"title": "$Measurement","type": "row"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 0,"y": 9},"height": "50px","id": 11,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "mean"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (mean)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "avg"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 4,"y": 9},"height": "50px","id": 14,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "max"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (max)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "avg"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 8,"y": 9},"height": "50px","id": 15,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "median"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (med)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "avg"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 12,"y": 9},"height": "50px","id": 16,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "min"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (min)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "current"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 16,"y": 9},"height": "50px","id": 12,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": ["90"],"type": "percentile"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (p90)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "avg"},{"cacheTimeout": null,"colorBackground": false,"colorValue": false,"colors": ["rgba(245, 54, 54, 0.9)","rgba(237, 129, 40, 0.89)","rgba(50, 172, 45, 0.97)"],"datasource": "InfluxDB","decimals": 2,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"format": "ms","gauge": {"maxValue": 100,"minValue": 0,"show": false,"thresholdLabels": false,"thresholdMarkers": true},"gridPos": {"h": 3,"w": 4,"x": 20,"y": 9},"height": "50px","id": 13,"interval": null,"links": [],"mappingType": 1,"mappingTypes": [{"name": "value to text","value": 1},{"name": "range to text","value": 2}],"maxDataPoints": 100,"nullPointMode": "connected","nullText": null,"postfix": "","postfixFontSize": "50%","prefix": "","prefixFontSize": "50%","rangeMaps": [{"from": "null","text": "N/A","to": "null"}],"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"sparkline": {"fillColor": "rgba(31, 118, 189, 0.18)","full": false,"lineColor": "rgb(31, 120, 193)","show": false},"tableColumn": "","targets": [{"dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [95],"type": "percentile"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"thresholds": "","title": "$Measurement (p95)","type": "singlestat","valueFontSize": "80%","valueMaps": [{"op": "=","text": "N/A","value": "null"}],"valueName": "avg"},{"cards": {"cardPadding": null,"cardRound": null},"color": {"cardColor": "rgb(0, 234, 255)","colorScale": "sqrt","colorScheme": "interpolateRdYlGn","exponent": 0.5,"mode": "spectrum"},"dataFormat": "timeseries","datasource": "InfluxDB","fieldConfig": {"defaults": {"custom": {}},"overrides": []},"gridPos": {"h": 7,"w": 12,"x": 0,"y": 12},"heatmap": {},"height": "250px","hideZeroBuckets": false,"highlightCards": true,"id": 8,"interval": ">1s","legend": {"show": false},"links": [],"reverseYBuckets": false,"scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"targets": [{"dsType": "influxdb","groupBy": [],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"}]],"tags": [{"key": "url","operator": "=~","value": "/^$URL$/"}]}],"title": "$Measurement (over time)","tooltip": {"show": true,"showHistogram": true},"tooltipDecimals": null,"type": "heatmap","xAxis": {"show": true},"xBucketNumber": null,"xBucketSize": null,"yAxis": {"decimals": null,"format": "ms","logBase": 2,"max": null,"min": null,"show": true,"splitFactor": null},"yBucketBound": "auto","yBucketNumber": null,"yBucketSize": null},{"aliasColors": {},"bars": false,"dashLength": 10,"dashes": false,"datasource": null,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"fill": 1,"fillGradient": 0,"gridPos": {"h": 8,"w": 12,"x": 12,"y": 12},"hiddenSeries": false,"id": 80,"legend": {"avg": false,"current": false,"max": false,"min": false,"show": true,"total": false,"values": false},"lines": true,"linewidth": 1,"nullPointMode": "null","options": {"dataLinks": []},"percentage": false,"pointradius": 2,"points": false,"renderer": "flot","scopedVars": {"Measurement": {"selected": true,"text": "http_req_duration","value": "http_req_duration"}},"seriesOverrides": [],"spaceLength": 10,"stack": false,"steppedLine": false,"targets": [{"groupBy": [{"params": ["1s"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "http_reqs","orderByTime": "ASC","policy": "default","refId": "A","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "count"}]],"tags": [{"key": "name","operator": "=~","value": "/^$URL$/"}]}],"thresholds": [],"timeFrom": null,"timeRegions": [],"timeShift": null,"title": "Request pr second","tooltip": {"shared": true,"sort": 0,"value_type": "individual"},"type": "graph","xaxis": {"buckets": null,"mode": "time","name": null,"show": true,"values": []},"yaxes": [{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true},{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true}],"yaxis": {"align": false,"alignLevel": null}}],"refresh": "5s","schemaVersion": 25,"style": "dark","tags": [],"templating": {"list": [{"allValue": null,"current": {"selected": true,"tags": [],"text": "http_req_duration","value": ["http_req_duration"]},"hide": 0,"includeAll": true,"label": null,"multi": true,"name": "Measurement","options": [{"selected": false,"text": "All","value": "$__all"},{"selected": true,"text": "http_req_duration","value": "http_req_duration"},{"selected": false,"text": "http_req_blocked","value": "http_req_blocked"},{"selected": false,"text": "http_req_connecting","value": "http_req_connecting"},{"selected": false,"text": "http_req_looking_up","value": "http_req_looking_up"},{"selected": false,"text": "http_req_receiving","value": "http_req_receiving"},{"selected": false,"text": "http_req_sending","value": "http_req_sending"},{"selected": false,"text": "http_req_waiting","value": "http_req_waiting"}],"query": "http_req_duration,http_req_blocked,http_req_connecting,http_req_looking_up,http_req_receiving,http_req_sending,http_req_waiting","skipUrlSync": false,"type": "custom"},{"current": {"selected": false,"text": "http://localhost:5000/weatherforecast_challenge10","value": "http://localhost:5000/weatherforecast_challenge10"},"hide": 2,"label": "URL","name": "URL","options": [{"selected": true,"text": "http://localhost:5000/weatherforecast_challenge10","value": "http://localhost:5000/weatherforecast_challenge10"}],"query": "http://localhost:5000/weatherforecast_challenge10","skipUrlSync": false,"type": "constant"}]},"time": {"from": "now-5m","to": "now"},"timepicker": {"refresh_intervals": ["15s"],"time_options": ["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone": "browser","title": "Challenge 10","uid": "nigU6kIGk","version": 5}, "overwrite":true,"inputs":[],"folderId":0}' \
  --compressed

curl 'http://grafana:3000/api/dashboards/import' \
  -H 'Connection: keep-alive' \
  -H 'accept: application/json, text/plain, */*' \
  -H 'x-grafana-org-id: 1' \
  -H 'content-type: application/json' \
  -H 'Origin: http://grafana:3000' \
  -H 'Sec-Fetch-Site: same-origin' \
  -H 'Sec-Fetch-Mode: cors' \
  -H 'Sec-Fetch-Dest: empty' \
  -H 'Referer: http://grafana:3000/dashboard/import' \
  --data-binary '{"dashboard": {"annotations": {"list": [{"builtIn": 1,"datasource": "-- Grafana --","enable": true,"hide": true,"iconColor": "rgba(0, 211, 255, 1)","name": "Annotations & Alerts","type": "dashboard"}]},"description": "Thinking fast and slow","editable": true,"gnetId": 4411,"graphTooltip": 2,"id": null,"iteration": 1597066648958,"links": [],"panels": [{"aliasColors": {},"bars": false,"dashLength": 10,"dashes": false,"datasource": "InfluxDB","description": "Should be greater than 0.85","fieldConfig": {"defaults": {"custom": {}},"overrides": []},"fill": 1,"fillGradient": 0,"gridPos": {"h": 8,"w": 12,"x": 0,"y": 0},"hiddenSeries": false,"id": 72,"interval": "","legend": {"avg": false,"current": true,"hideEmpty": false,"max": true,"min": false,"show": true,"total": false,"values": true},"lines": true,"linewidth": 1,"nullPointMode": "null","options": {"dataLinks": []},"percentage": false,"pointradius": 2,"points": false,"renderer": "flot","seriesOverrides": [],"spaceLength": 10,"stack": false,"steppedLine": false,"targets": [{"groupBy": [{"params": ["1s"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "200 OK rate","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "mean"}]],"tags": []}],"thresholds": [{"colorMode": "ok","fill": true,"line": true,"op": "gt","value": 0.99,"yaxis": "left"},{"colorMode": "critical","fill": true,"line": true,"op": "gt","value": 0,"yaxis": "left"}],"timeFrom": null,"timeRegions": [],"timeShift": null,"title": "Rate of 200 OK","tooltip": {"shared": true,"sort": 0,"value_type": "individual"},"type": "graph","xaxis": {"buckets": null,"mode": "time","name": null,"show": true,"values": []},"yaxes": [{"decimals": null,"format": "short","label": "Rate of 200 OK responses","logBase": 1,"max": "1","min": "0.5","show": true},{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true}],"yaxis": {"align": false,"alignLevel": null}},{"aliasColors": {},"bars": false,"dashLength": 10,"dashes": false,"datasource": null,"fieldConfig": {"defaults": {"custom": {}},"overrides": []},"fill": 1,"fillGradient": 0,"gridPos": {"h": 8,"w": 12,"x": 12,"y": 0},"hiddenSeries": false,"id": 80,"legend": {"avg": false,"current": false,"max": false,"min": false,"show": true,"total": false,"values": false},"lines": true,"linewidth": 1,"nullPointMode": "null","options": {"dataLinks": []},"percentage": false,"pointradius": 2,"points": false,"renderer": "flot","seriesOverrides": [],"spaceLength": 10,"stack": false,"steppedLine": false,"targets": [{"groupBy": [{"params": ["1s"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "http_reqs","orderByTime": "ASC","policy": "default","refId": "A","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "count"}]],"tags": [{"key": "name","operator": "=~","value": "/^$URL$/"}]}],"thresholds": [],"timeFrom": null,"timeRegions": [],"timeShift": null,"title": "Request pr second","tooltip": {"shared": true,"sort": 0,"value_type": "individual"},"type": "graph","xaxis": {"buckets": null,"mode": "time","name": null,"show": true,"values": []},"yaxes": [{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true},{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true}],"yaxis": {"align": false,"alignLevel": null}},{"aliasColors": {},"bars": false,"dashLength": 10,"dashes": false,"datasource": "InfluxDB","fieldConfig": {"defaults": {"custom": {}},"overrides": []},"fill": 1,"fillGradient": 0,"gridPos": {"h": 8,"w": 12,"x": 6,"y": 8},"hiddenSeries": false,"id": 76,"legend": {"avg": false,"current": false,"max": false,"min": false,"show": true,"total": false,"values": false},"lines": true,"linewidth": 1,"nullPointMode": "null","options": {"dataLinks": []},"percentage": false,"pointradius": 2,"points": false,"renderer": "flot","seriesOverrides": [],"spaceLength": 10,"stack": false,"steppedLine": false,"targets": [{"groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["null"],"type": "fill"}],"measurement": "prometheus","orderByTime": "ASC","policy": "default","refId": "A","resultFormat": "time_series","select": [[{"params": ["executed_retries"],"type": "field"},{"params": [],"type": "max"}]],"tags": []}],"thresholds": [],"timeFrom": null,"timeRegions": [],"timeShift": null,"title": "Executed retries","tooltip": {"shared": true,"sort": 0,"value_type": "individual"},"type": "graph","xaxis": {"buckets": null,"mode": "time","name": null,"show": true,"values": []},"yaxes": [{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true},{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true}],"yaxis": {"align": false,"alignLevel": null}},{"aliasColors": {},"bars": false,"dashLength": 10,"dashes": false,"datasource": "InfluxDB","description": "Grouped by 1 sec intervals","fieldConfig": {"defaults": {"custom": {}},"overrides": []},"fill": 1,"fillGradient": 0,"gridPos": {"h": 7,"w": 12,"x": 0,"y": 16},"height": "250px","hiddenSeries": false,"id": 5,"interval": ">1s","legend": {"alignAsTable": false,"avg": false,"current": false,"hideZero": false,"max": false,"min": false,"show": true,"total": false,"values": false},"lines": true,"linewidth": 1,"links": [],"nullPointMode": "connected","options": {"dataLinks": []},"percentage": false,"pointradius": 1,"points": true,"renderer": "flot","seriesOverrides": [],"spaceLength": 10,"stack": false,"steppedLine": false,"targets": [{"alias": "max","dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["none"],"type": "fill"}],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "max"}]],"tags": [{"key": "name","operator": "=","value": "http://localhost:5000/weatherforecast_challenge7/1"}]},{"alias": "p90","dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["none"],"type": "fill"}],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "F","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": ["90"],"type": "percentile"}]],"tags": [{"key": "name","operator": "=","value": "http://localhost:5000/weatherforecast_challenge7/1"}]},{"alias": "p95","dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["none"],"type": "fill"}],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "G","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [95],"type": "percentile"}]],"tags": [{"key": "name","operator": "=","value": "http://localhost:5000/weatherforecast_challenge7/1"}]},{"alias": "min","dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["none"],"type": "fill"}],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "H","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "min"}]],"tags": [{"key": "name","operator": "=","value": "http://localhost:5000/weatherforecast_challenge7/1"}]}],"thresholds": [{"colorMode": "critical","fill": true,"line": true,"op": "gt","value": 2000,"yaxis": "left"}],"timeFrom": null,"timeRegions": [],"timeShift": null,"title": "$Measurement (over time) /1","tooltip": {"shared": true,"sort": 0,"value_type": "individual"},"type": "graph","xaxis": {"buckets": null,"mode": "time","name": null,"show": true,"values": []},"yaxes": [{"decimals": null,"format": "ms","label": "","logBase": 2,"max": null,"min": null,"show": true},{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true}],"yaxis": {"align": false,"alignLevel": null}},{"aliasColors": {},"bars": false,"dashLength": 10,"dashes": false,"datasource": "InfluxDB","description": "Grouped by 1 sec intervals","fieldConfig": {"defaults": {"custom": {}},"overrides": []},"fill": 1,"fillGradient": 0,"gridPos": {"h": 7,"w": 12,"x": 12,"y": 16},"height": "250px","hiddenSeries": false,"id": 83,"interval": ">1s","legend": {"alignAsTable": false,"avg": false,"current": false,"hideZero": false,"max": false,"min": false,"show": true,"total": false,"values": false},"lines": true,"linewidth": 1,"links": [],"nullPointMode": "connected","options": {"dataLinks": []},"percentage": false,"pointradius": 1,"points": true,"renderer": "flot","seriesOverrides": [],"spaceLength": 10,"stack": false,"steppedLine": false,"targets": [{"alias": "max","dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["none"],"type": "fill"}],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "B","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "max"}]],"tags": [{"key": "name","operator": "=","value": "http://localhost:5000/weatherforecast_challenge7/2"}]},{"alias": "p90","dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["none"],"type": "fill"}],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "F","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": ["90"],"type": "percentile"}]],"tags": [{"key": "name","operator": "=","value": "http://localhost:5000/weatherforecast_challenge7/2"}]},{"alias": "p95","dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["none"],"type": "fill"}],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "G","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [95],"type": "percentile"}]],"tags": [{"key": "name","operator": "=","value": "http://localhost:5000/weatherforecast_challenge7/2"}]},{"alias": "min","dsType": "influxdb","groupBy": [{"params": ["$__interval"],"type": "time"},{"params": ["none"],"type": "fill"}],"hide": false,"measurement": "/^$Measurement$/","orderByTime": "ASC","policy": "default","refId": "H","resultFormat": "time_series","select": [[{"params": ["value"],"type": "field"},{"params": [],"type": "min"}]],"tags": [{"key": "name","operator": "=","value": "http://localhost:5000/weatherforecast_challenge7/2"}]}],"thresholds": [{"colorMode": "critical","fill": true,"line": true,"op": "gt","value": 200,"yaxis": "left"}],"timeFrom": null,"timeRegions": [],"timeShift": null,"title": "$Measurement (over time) /2","tooltip": {"shared": true,"sort": 0,"value_type": "individual"},"type": "graph","xaxis": {"buckets": null,"mode": "time","name": null,"show": true,"values": []},"yaxes": [{"decimals": null,"format": "ms","label": "","logBase": 2,"max": null,"min": null,"show": true},{"format": "short","label": null,"logBase": 1,"max": null,"min": null,"show": true}],"yaxis": {"align": false,"alignLevel": null}}],"refresh": "5s","schemaVersion": 25,"style": "dark","tags": [],"templating": {"list": [{"allValue": null,"current": {"selected": true,"tags": [],"text": "http_req_duration","value": ["http_req_duration"]},"hide": 0,"includeAll": true,"label": null,"multi": true,"name": "Measurement","options": [{"selected": false,"text": "All","value": "$__all"},{"selected": true,"text": "http_req_duration","value": "http_req_duration"},{"selected": false,"text": "http_req_blocked","value": "http_req_blocked"},{"selected": false,"text": "http_req_connecting","value": "http_req_connecting"},{"selected": false,"text": "http_req_looking_up","value": "http_req_looking_up"},{"selected": false,"text": "http_req_receiving","value": "http_req_receiving"},{"selected": false,"text": "http_req_sending","value": "http_req_sending"},{"selected": false,"text": "http_req_waiting","value": "http_req_waiting"}],"query": "http_req_duration,http_req_blocked,http_req_connecting,http_req_looking_up,http_req_receiving,http_req_sending,http_req_waiting","skipUrlSync": false,"type": "custom"}]},"time": {"from": "now-5m","to": "now"},"timepicker": {"refresh_intervals": ["15s"],"time_options": ["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone": "browser","title": "Challenge 7","uid": "256ggTIMk","version": 8}, "overwrite":true,"inputs":[],"folderId":0}' \
  --compressed

